# 📸 就活写真添削アプリ

就職活動用の証明写真をアップロードすると、AIが多角的に分析し、あなたの第一印象を最大化するための具体的な改善アドバイスを生成するWebアプリケーションです。

## ✨ 特徴

* **多角的なAI分析**: 顔の表情（明るさ・笑顔）、構図（顔の比率・中心位置）、写真品質（鮮明度）など、複数の評価軸で客観的に分析します。
* **総合評価とレーダーチャート**: 各項目の評価を重み付けして100点満点の「総合スコア」を算出。レーダーチャートにより、写真の強みと弱みを直感的に把握できます。
* **実践的なAIアドバイス**: 分析結果に基づき、GPT-4o miniが「何を」「どうすれば」改善できるか、具体的で実行可能なアクションを提案します。
* **詳細分析と個別アドバイス**: 各評価項目の詳細なスコアを確認できるほか、気になる項目については、さらに深掘りした個別アドバイスをAIに求めることができます。
* **高速なレスポンス**: Streamlitのキャッシュ機能を活用し、一度分析した画像は再アップロードしても瞬時に結果を表示します。
* **柔軟な評価基準**: 明るさの理想値やスコアの重み付けなど、全ての評価基準を`config.yaml`ファイルで管理しており、容易に調整可能です。

## 🛠️ 使用技術

* **言語**: Python 3.11
* **フレームワーク**: Streamlit
* **主要ライブラリ**:
    * `OpenCV`: 画像処理、特徴量計算
    * `MediaPipe`: 顔ランドマーク検出
    * `OpenAI API`: 自然言語によるアドバイス生成
    * `Plotly`: レーダーチャート描画
    * `PyYAML`: 設定ファイル管理
    * `python-dotenv`: 環境変数管理

## 🚀 セットアップ

1.  **リポジトリをクローン**
    ```bash
    git clone [https://github.com/your-username/shukatsu-photo-analyzer.git](https://github.com/your-username/shukatsu-photo-analyzer.git)
    cd shukatsu-photo-analyzer
    ```
2.  **仮想環境の作成と有効化**
    ```bash
    # 仮想環境作成
    python -m venv .venv
    # 有効化 (Windows)
    .venv\Scripts\activate
    # 有効化 (Mac/Linux)
    source .venv/bin/activate
    ```
3.  **パッケージのインストール**
    ```bash
    pip install -r requirements.txt
    ```
4.  **APIキーの設定**
    `.env` ファイルを新規作成し、お持ちのOpenAI APIキーを記述します。
    ```
    OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    ```
5.  **アプリの起動**
    ```bash
    streamlit run app.py
    ```

## 📷 使い方

1.  アプリを開き、「画像をアップロードしてください」から証明写真を選択します。
2.  アップロードが完了すると、自動で分析が開始されます。
3.  総合スコアとレーダーチャートで、写真の全体的な完成度を確認します。
4.  「詳細スコア」セクションで各項目の評価を確認し、気になる項目の「アドバイス」ボタンをクリックすると、より具体的な改善策が表示されます。
5.  画面下部の「総合的なアドバイス」を参考に、写真全体を改善するためのヒントを得ます。

## 📁 ディレクトリ構成

shukatsu-photo-analyzer/
├── app.py
├── features.py
├── gpt_advice.py
├── config.yaml
├── requirements.txt
├── .env
└── README.md

## 🔒 プライバシーについて

アップロードされた画像は分析処理にのみ使用され、処理後すぐにサーバーから破棄されます。分析時に、個人を特定できない形の評価タグ（例: "SMILE"）のみが匿名でOpenAI APIに送信されます。

## 📝 ライセンス

[MIT License](https://opensource.org/licenses/MIT)

## 👤 制作ストーリーと工夫した点（ガクチカ）

就職活動において、多くの学生が抱える「証明写真の印象」という曖昧な不安を、テクノロジーで解消したいという思いから本アプリを開発しました。

開発当初は単純なスコア表示機能だけでしたが、ユーザー視点での改善を繰り返す中で、より本質的な価値を提供するために以下の3点に注力しました。

1.  **分析ロジックの深化**: 当初は実装が容易な「背景の均一性」などを評価していましたが、「ユーザーが本当に知りたいのは何か？」を問い直し、より本質的な「写真の鮮明度（ピンボケ）」や「構図」といった、写真の品質そのものを評価するアルゴリズム（ラプラシアン分散など）を調査・実装しました。
2.  **責務分離による保守性の確立**: 機能追加のたびに複数のファイル修正が必要になる問題を解決するため、評価ロジックを`features.py`に集約し、評価結果を`dataclass`で構造化しました。これにより、UIと分析ロジックが完全に分離され、変更に強くスケールしやすい設計を実現しました。
3.  **対話的なUXの実現**: 一方的な評価だけでなく、ユーザーが自身の弱点を深掘りできるよう「個別アドバイス機能」を実装しました。Pythonによる厳密なデータ分析と、GPTによる人間味のあるコミュニケーションを組み合わせることで、「冷たい採点官」ではなく「信頼できるアドバイザー」のような体験を目指しました。

この開発経験を通じて、ユーザーの潜在的なニーズを深く洞察し、それを解決するために最適な技術を選択・実装する能力、そしてプロダクトを長期的に成長させるための設計思想の重要性を学びました。

